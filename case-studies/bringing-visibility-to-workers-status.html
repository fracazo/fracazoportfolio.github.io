<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Changing Booking Behaviour Through Worker Status Visibility - Alex Fracazo</title>
  <meta content="Reducing uncertainty in a two-sided marketplace and increasing successful bookings by 12%." name="description">
  <meta content="Changing Booking Behaviour Through Worker Status Visibility - Alex Fracazo" property="og:title">
  <meta content="Reducing uncertainty in a two-sided marketplace and increasing successful bookings by 12%." property="og:description">
  <meta content="../images/opengraph.jpg" property="og:image">
  <meta content="Changing Booking Behaviour Through Worker Status Visibility - Alex Fracazo" property="twitter:title">
  <meta content="Reducing uncertainty in a two-sided marketplace and increasing successful bookings by 12%." property="twitter:description">
  <meta content="../images/opengraph.jpg" property="twitter:image">
  <meta property="og:type" content="website">
  <meta content="summary_large_image" name="twitter:card">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <link href="../images/favicon.svg" rel="shortcut icon" type="image/x-icon">
  <link href="../images/webclip.svg" rel="apple-touch-icon">

  <!-- Styles -->
  <link href="https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="../css/styles.css" rel="stylesheet">
</head>
<body>
  <!-- Mobile Menu Button -->
  <button class="hamburger" aria-label="Toggle menu">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" aria-hidden="true">
      <path d="M5 8H19"/>
      <path d="M5 16H19"/>
    </svg>
  </button>

  <div class="app">
    <!-- Sidebar -->
    <aside class="sidebar" aria-label="Sidebar">
      <div class="sidebar-header">
        <a href="../index.html" class="brand" aria-label="Home">
          <span>Alex Fracazo</span>
        </a>
        <button class="sidebar-close" aria-label="Close menu">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18"></path>
            <path d="m6 6 12 12"></path>
          </svg>
        </button>
      </div>
      <nav class="case-study-nav" aria-label="Case study navigation">
        <a href="../work.html" class="back-link">
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="m12 19-7-7 7-7"/></svg>
          Back to Work
        </a>
        <div class="case-nav-title">
          <h2>On this page</h2>
        </div>
        <ul class="toc-list"></ul>
      </nav>
      <div class="sidebar-actions">
        <button id="theme-toggle" class="theme-btn" aria-label="Toggle theme">
          <span class="theme-tooltip theme-tooltip-light" aria-hidden="true">Switch to light mode</span>
          <span class="theme-tooltip theme-tooltip-dark" aria-hidden="true">Switch to dark mode</span>
          <svg class="icon-sun" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="4"></circle>
            <path d="M12 2v2"></path>
            <path d="M12 20v2"></path>
            <path d="m4.93 4.93 1.41 1.41"></path>
            <path d="m17.66 17.66 1.41 1.41"></path>
            <path d="M2 12h2"></path>
            <path d="M20 12h2"></path>
            <path d="m6.34 17.66-1.41 1.41"></path>
            <path d="m19.07 4.93-1.41 1.41"></path>
          </svg>
          <svg class="icon-moon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
          </svg>
        </button>
      </div>
    </aside>
    <div class="sidebar-backdrop"></div>

    <!-- Main content -->
    <main id="content" role="main">
      <section class="section case-study-content">
        <div class="case-study-main">
        <nav class="breadcrumb" aria-label="Breadcrumb">
          <a href="../index.html">Home</a><span class="breadcrumb-sep"> &gt; </span><a href="../work.html">Work</a><span class="breadcrumb-sep"> &gt; </span><span>Worker Status Visibility</span>
        </nav>
        <header class="case-header">
          <h1 class="case-title">Changing Booking Behaviour Through Worker Status Visibility</h1>
          <div class="case-metadata-card">
            <img src="../images/62fbf14400d70051caf1b477_hireup-project-p-1080.png" alt="Hireup" class="case-hero-image">
            <div class="metadata-content">
              <div class="metadata-item">
                <svg class="metadata-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M6 3.75A2.75 2.75 0 0 1 8.75 1h2.5A2.75 2.75 0 0 1 14 3.75v.443c.572.055 1.14.122 1.706.2C17.053 4.582 18 5.75 18 7.07v3.469c0 1.126-.694 2.191-1.83 2.54-1.952.599-4.024.921-6.17.921s-4.219-.322-6.17-.921C2.694 12.73 2 11.665 2 10.539V7.07c0-1.321.947-2.489 2.294-2.676A41.047 41.047 0 0 1 6 4.193V3.75Zm6.5 0v.325a41.622 41.622 0 0 0-5 0V3.75c0-.69.56-1.25 1.25-1.25h2.5c.69 0 1.25.56 1.25 1.25ZM10 10a1 1 0 0 0-1 1v.01a1 1 0 0 0 1 1h.01a1 1 0 0 0 1-1V11a1 1 0 0 0-1-1H10Z" clip-rule="evenodd"/><path d="M3 15.055v-.684c.126.053.255.1.39.142 2.092.642 4.313.987 6.61.987 2.297 0 4.518-.345 6.61-.987.135-.041.264-.089.39-.142v.684c0 1.347-.985 2.53-2.363 2.686a41.454 41.454 0 0 1-9.274 0C3.985 17.585 3 16.402 3 15.055Z"/></svg>
                <div class="metadata-text">
                  <p class="metadata-label">Product</p>
                  <p class="metadata-value">Hireup</p>
                </div>
              </div>
              <div class="metadata-item">
                <svg class="metadata-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M2 4.25A2.25 2.25 0 0 1 4.25 2h11.5A2.25 2.25 0 0 1 18 4.25v8.5A2.25 2.25 0 0 1 15.75 15h-3.105a3.501 3.501 0 0 0 1.1 1.677A.75.75 0 0 1 13.26 18H6.74a.75.75 0 0 1-.484-1.323A3.501 3.501 0 0 0 7.355 15H4.25A2.25 2.25 0 0 1 2 12.75v-8.5Zm1.5 0a.75.75 0 0 1 .75-.75h11.5a.75.75 0 0 1 .75.75v7.5a.75.75 0 0 1-.75.75H4.25a.75.75 0 0 1-.75-.75v-7.5Z" clip-rule="evenodd"/></svg>
                <div class="metadata-text">
                  <p class="metadata-label">Platform</p>
                  <p class="metadata-value">iOS and Android</p>
                </div>
              </div>
              <div class="metadata-item">
                <svg class="metadata-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path d="M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"/></svg>
                <div class="metadata-text">
                  <p class="metadata-label">Role</p>
                  <p class="metadata-value">Principal Product Designer</p>
                </div>
              </div>
              <div class="metadata-item">
                <svg class="metadata-icon" width="16" height="16" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.75 2a.75.75 0 0 1 .75.75V4h7V2.75a.75.75 0 0 1 1.5 0V4h.25A2.75 2.75 0 0 1 18 6.75v8.5A2.75 2.75 0 0 1 15.25 18H4.75A2.75 2.75 0 0 1 2 15.25v-8.5A2.75 2.75 0 0 1 4.75 4H5V2.75A.75.75 0 0 1 5.75 2Zm-1 5.5c-.69 0-1.25.56-1.25 1.25v6.5c0 .69.56 1.25 1.25 1.25h10.5c.69 0 1.25-.56 1.25-1.25v-6.5c0-.69-.56-1.25-1.25-1.25H4.75Z" clip-rule="evenodd"/></svg>
                <div class="metadata-text">
                  <p class="metadata-label">Year</p>
                  <p class="metadata-value">2022</p>
                </div>
              </div>
            </div>
          </div>
          <p class="case-intro">Reducing uncertainty in a two-sided marketplace and increasing successful bookings by 12%.</p>
        </header>

        <div class="summary-card">
          <h2><img src="../images/bookmark.svg" alt="" width="24"> Summary</h2>
          <p>A new design that drives user behaviour. The new feature informs and educates support workers on how to keep their availability updated. It automatically sets support workers who have not been active on the platform for over 30 days to "not looking for work". This leads to more responsiveness from workers to clients on the Hireup platform.</p>
        </div>

        <div class="case-study-section">
          <h2>Understanding the Problem</h2>
          
          <h3>About Hireup</h3>
          <p>Hireup is the largest online network of support workers in Australia for people with disabilities. The software is a marketplace that matches people with disabilities ("clients") with support workers ("workers").</p>
          
          <h3>How the Platform Works</h3>
          <img src="../images/62fb51f3578196031228354d_How-does-it-work.png" alt="How Hireup works">
          
          <h3>The Problem</h3>
          <p>In order to support our company-wide quarter objective of improving the discovery and connection between support workers (workers) and people with disabilities (clients), we started to investigate complaints from clients about workers not getting back to them.</p>
          
          <blockquote>We noticed from our data that 39.1% of clients who were looking for support were messaging workers that hadn't been active on the platform but had kept their availability status as 'Looking for support work'.</blockquote>
          
          <p>A support worker at Hireup can choose to update their availability to 'Looking for work" or "Not looking for work". This means when they are looking for work their profile will be listed in the client search and they can receive job alerts from clients that are looking for a support worker.</p>
          <p>For more clarity on the problem, I ran lean research - sent an email survey asking workers about how they use and update their availability status". Early insight on this was that workers set their status as "open to work" and forget to update their availability later.</p>
          <p>Most of the respondents set it during their account creation and onboarding. Another reason given was that they leave their status open only in case the "right" job arises.</p>

          <h3>Current User Flow Analysis</h3>
          <p>How would workers update their availability status?</p>
          <img src="../images/62fdcd93d56ca3a042cc5291_current-flow.gif" alt="Current flow animation" class="img-xs">
          <p>They would tap on their profile avatar which would open 'My account' page. Inside this page, the user would skim through more options until they find 'My Availability', which would open the page where they could switch their "Looking for support work" status to on/off.</p>
          <img src="../images/62fb7e3f6533969785087587_Current-experience.png" alt="Current experience">

          <h3>Flow Report</h3>
          <p>By analysing the data, I noticed that few workers were tapping to update their availability.</p>
          <img src="../images/62fc2b5863456152bfa022e5_flow-report.png" alt="Flow report">

          <h3>Why This Mattered</h3>
          <p>This problem impacted Hireup's connection rate. "Connection" is the first booking between a client and a support worker. We noticed a drop in clients creating a new connection with a support worker, meaning a low connection rate. This also impacted client activation, which in turn impacted user churn.</p>

          <h3>Key Metrics</h3>
          <ul>
            <li><strong>Response rate:</strong> Workers that respond (within 3 days) to clients' first message</li>
            <li><strong>Connection rate:</strong> Connections are created within 7 days after the first message from the client</li>
            <li><strong>Availability update:</strong> % of workers that update their availability</li>
          </ul>

          <h3>Inactive workers</h3>
          <p>The solution proposed, led by the data team and the product manager, was to automatically turn off the availability status for workers who maintain their status as "Looking for Support Work" but have not been active on the platform in the last 30 days. This would result in those inactive workers being filtered out from search results.</p>
          
          <p><strong>This solved part of the problem</strong></p>
          <p>I shared my learnings about the common behaviour of workers setting and forgetting their availability to 'open for work'. I was also thinking about users that might decide to provide services for Hireup again after some time off. I asked the data team about reactivations and flagged my team that workers could reactivate after being inactive. They might not know they had to update their availability to "Looking for support work".</p>
          <img src="../images/62fc0f9fc79dbff73d588373_Reactivation-metrics.png" alt="Reactivation metrics">
          
          <p>We could see that there was a large spike in reactivations from inactive support workers, seasonally, around January - February.</p>
          
          <blockquote>Because of this, we predicted that these workers that planned to reactivate might not manually switch their availability back to 'Looking for work', so their profile would not appear on search results. This would result in them potentially missing out on work opportunities.</blockquote>
          
          <p>There were discussions in the team of simply reversing the mechanism to automatically switch reactivated support workers back to "Looking for work". I was concerned about the assumption that workers who would be back on the platform would be 'Looking for work' as they may or may not be. A scenario I used to explain my line of thought was Linkedin - when people log on to Linkedin, it doesn't mean they want their profile to say 'open to work'.</p>

          <h2>Designing the Solution</h2>

          <h3>Problem Statement & Design Prompt</h3>
          <p>Workers who have returned to the platform after being inactive may not get new jobs on Hireup. This is because the software triggers the worker's availability status to 'Not Open for Work' when they remain 30 days without using the platform (inactive user).</p>
          
          <blockquote>How might we design an experience that makes it easy for current active workers and workers who return to the platform after being inactive to identify and understand what their availability status means and why it is important to keep it up to date?</blockquote>

          <h3>Design Approach</h3>
          <ul>
            <li>No clear visibility on the availability status</li>
            <li>Hard to find how to switch the "Looking for support work" feature on/off</li>
            <li>Workers set their status to "open to work" and forget to update</li>
            <li>Inactive workers that become active again on the platform, might not notice they were set to 'not looking for work' status and have to manually switch it back to 'looking for support work'</li>
          </ul>
          
          <p>I started by organising the workload according to user input touchpoints:</p>
          <ul>
            <li>My Account</li>
            <li>Home Page</li>
          </ul>

          <h3>My Account</h3>
          <p><strong>Surface toggle on my account</strong></p>
          <p>There was a debate on where to place this feature in our software, the PM suggested creating a new module with a switch where users could easily interact with it directly from the home screen, but I argued that it should stay in "My Account" to maintain consistency and reduce cognitive load. To help guide my arguments, I developed themes such as scalability, future-proofing, and consistency. By focusing on these principles, I was able to articulate my thoughts clearly and convince the team to keep the feature where it was. This experience taught me the importance of having a strong set of principles to guide decision-making in software design.</p>
          <img src="../images/62fb817e7d3362906fa43868_My-Account.png" alt="My Account design">

          <h3>Copywriting with empathy</h3>
          <p>I've recommended to change the microcopy from "Looking for support work / Not looking for support work" to a more direct and simple, plain language that is easy to understand for everyone.</p>
          <img src="../images/62fc90125c97db0ee5c84b53_open-for-work---not-open-for-work.gif" alt="Copywriting animation" class="img-xs">

          <p><strong>Thought process and design evolution</strong></p>
          <p>The process to decide on a solution was through design iteration based on feedback from multiple teams involved in the project and insights from user research.</p>
          <img src="../images/62fc52776345612371bb29d8_My-account---thought-process.png" alt="My Account thought process">

          <h3>Home Page Design</h3>
          <p><strong>Status signifier on avatar</strong></p>
          <p>This solution brought visibility of workers' availability status across all main app pages, as it was consistently at the top of the nav bar. The use of the "Bag" iconography across other features of the software (the same icon used on jobs) made this pattern easy to understand and recognise.</p>
          <img src="../images/62fc5238e209d1f5865eda41_Home-page.png" alt="Home page design">

          <p><strong>Thought process and design evolution</strong></p>
          <p>This solution would also educate workers on what it means to turn it on/off, driving a key behaviour for Hireup.</p>
          <img src="../images/62fbe16ca13a8d3ee01e9078_Home-page---thought-process.png" alt="Home page thought process">

          <p><strong>The Design Process Included:</strong></p>
          <ul>
            <li>4 rounds of user testing</li>
            <li>2 rounds of design critique / Jam</li>
            <li>Working closely with engineers to validate the design and copy implementations. Along with daily stand-ups, we also had weekly demos and occasionally huddled together over slack and cross-checked implementation with final designs.</li>
          </ul>

          <h3>Final design</h3>
          <img src="../images/62fc5222cf2458417e3c4205_Final-design.png" alt="Final design">

          <h2>Implementation & Testing</h2>

          <h3>Prototype</h3>
          <img src="../images/62fc9b36aee467542d9116cf_final-design.gif" alt="Prototype animation" class="img-xs">

          <h3>Release Strategy</h3>
          <p>To measure and control risks, the team planned to release this feature by using experimentation and testing with cohorts.</p>
          <p>I worked with the engineers to implement the designs, and it was working and looking great!</p>
          <p>To make sure the workers were informed about the change, I worked with the marketing team to make sure we tightened up a clear communication to workers within the new release. This communication was sent to workers who were automatically set to "not looking for work". They were notified using a mix of push, SMS and email. They receive a warning after 25 days of inactivity and are switched off, then also informed at the 30-day mark.</p>
          <img src="../images/62fc4c700a231f91c8fcf134_Implementing-the-solution.png" alt="Implementation" class="img-md">
          
          <p>Setting workers to "not looking for work" was done in stages and comms were sent out to workers that may have been impacted by the change.</p>

          <h3>User Communication</h3>
          <p>We also introduced a new feature that communicates important changes to users that return to the app. This helps to gather context in case they miss comms for any reason. They would see it when they are back on the app.</p>
          <img src="../images/62fc51dad208697fbaaaf774_whats-new.png" alt="What's new feature">

          <h2>Results & Impact</h2>

          <h3>Behavior Change</h3>
          <img src="../images/62fc4eb12b9343326b9c9ecc_first-results.png" alt="First results" class="img-small">
          <p>By monitoring our data, we noticed an increase of +46.24% inactive workers returning to the platform.</p>

          <p><strong>Experimenting with cohorts</strong></p>
          <p>A subset of workers in Sydney and Melbourne markets were grouped as the control group</p>
          <img src="../images/62fbefd1b95849422076b287_control-groups.png" alt="Control groups">

          <h3>Response Rate Improvement</h3>
          <img src="../images/62fc1fc75683e24e4d73f378_Response-rate.png" alt="Response rate" class="img-small">
          <p>Response rate for the experimental group increased from 39.1% to 45.8%.</p>

          <h3>Connection Rate Growth</h3>
          <img src="../images/62fc1fbd85376430031ca998_Connection-rate.png" alt="Connection rate" class="img-small">
          <p>Connection rate for the experimental group increased from 3% to 5.%</p>

          <h3>Availability Updates</h3>
          <img src="../images/62fc1ff1d055b02593cac784_flow-report-future.png" alt="Flow report future">
          <p>An increase of +10% workers updating their availability.</p>

          <ul>
            <li>The response rate increased to +45.58%</li>
            <li>The connection rate increased by +5.1%</li>
            <li>Workers that update their availability increased to +18.82%</li>
          </ul>

          <p><strong>Overall impact</strong></p>
          <ul>
            <li>An increase in connection rate, within 7 days of the client message</li>
            <li>We estimate that <strong>40 new connections per month</strong> were generated due to this new feature.</li>
            <li>We estimate that automatically setting inactive workers to "not looking for work" has had a <strong>+12% incremental impact on the connections from client first messages</strong>.</li>
          </ul>

          <h2>Key Learnings</h2>
          <ul>
            <li>Working with a diverse team that had to combine efforts to launch this feature: Product, Engineering, Data, Marketing and Design.</li>
            <li>The design work was created in a way that would drive user behaviour, this was key to understanding that the design decisions we made impact lots of users every day.</li>
            <li>Having organised and led many design critiques within the design team, sparring sessions with the engineers led to multiple feedback and design rounds. I had to look back on the original problem and own my design decisions to filter out feedback that would increase the scope and not add value.</li>
            <li>It was important to bring many questions to different teams to gather knowledge and clarity.</li>
          </ul>

          <p><strong>What's next?</strong></p>
          <p>Continue to monitor how this affects important client experience metrics. We want to learn something statistically significant about messages, we know that message is the first step before a connection between a worker and a client. Next, I would use the learnings here to improve the message feature.</p>

          <div class="notice-box">
            <img src="../images/privacy.svg" alt="Privacy">
            <div>
              <p><strong>Protecting Data Privacy</strong></p>
              <p>The case study shows fictitious figures, allowing the necessary contextual information to enable the evaluation of the methodologies used.</p>
            </div>
          </div>
        </div>

        <div class="up-next">
          <h2 class="h2">Up Next</h2>
          <div class="up-next-grid">
            <a href="eta-app.html" class="card-project">
              <div class="image-project">
                <img src="../images/62dc274f132cbe543717e126_work1-p-2000.jpg" alt="ETA App">
              </div>
              <div class="content-project">
                <h4 class="h4">Reducing Friction in Government Visa Applications</h4>
                <p class="tagline">Automating data entry to improve completion and reduce user effort in a high-stakes service.</p>
              </div>
            </a>
            <a href="qantas-entertainment-app.html" class="card-project">
              <div class="image-project">
                <img src="../images/62dc26d29e21732abffdaacd_work4-p-1080.png" alt="Qantas Entertainment">
              </div>
              <div class="content-project">
                <h4 class="h4">Driving Engagement Through a Unified Entertainment Experience</h4>
                <p class="tagline">Reimagining in-flight entertainment as a cohesive product ecosystem.</p>
              </div>
            </a>
            <a href="qantas-app.html" class="card-project">
              <div class="image-project">
                <img src="../images/62dc1d83920df32baae28d6b_work2-p-1080.png" alt="Qantas App">
              </div>
              <div class="content-project">
                <h4 class="h4">Increasing App Adoption by Integrating Entertainment Services</h4>
                <p class="tagline">Using entertainment features to drive a 70% increase in app downloads.</p>
              </div>
            </a>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <section class="section" aria-labelledby="footer-title">
        <footer role="contentinfo">
          <div class="footer-inner">
            <p id="footer-title" class="text footer-location">Based in Australia. Working globally.</p>
            <p class="text footer-links">
              You can find me on <a href="http://www.linkedin.com/in/fracazo" target="_blank">LinkedIn</a>, <a href="https://gitlab.com/afracazo" target="_blank">GitLab</a>, or <a href="contact.html">reach me by email</a>.
            </p>
          </div>
        </footer>
      </section>
    </main>
  </div>

    <!-- Dyslexia-friendly reading (case study only, session-only) -->
    <button id="dyslexia-fab" class="dyslexia-fab">
      <span class="dyslexia-fab-icon">Aa</span>
      <span class="dyslexia-tooltip">Dyslexic friendly</span>
    </button>

  <script>
  // ===========================
  // Theme: default dark + toggle with persistence
  // ===========================
  (function() {
    const KEY = 'theme';
    const root = document.documentElement;
    const saved = localStorage.getItem(KEY);
    const prefersLight = window.matchMedia('(prefers-color-scheme: light)').matches;
    const initial = saved ? saved : (prefersLight ? 'light' : 'dark');
    applyTheme(initial);

    function applyTheme(mode) {
      root.classList.toggle('light', mode === 'light');
      localStorage.setItem(KEY, mode);
    }

    function toggleTheme() {
      const isLight = root.classList.contains('light');
      applyTheme(isLight ? 'dark' : 'light');
    }

    const toggleBtn = document.getElementById('theme-toggle');
    if (toggleBtn) toggleBtn.addEventListener('click', toggleTheme);
  })();

  // ===========================
  // Dyslexia FAB (session-only, no persistence)
  // ===========================
  (function() {
    const root = document.documentElement;
    const btn = document.getElementById('dyslexia-fab');
    if (!btn) return;
    function updateActive() {
      btn.classList.toggle('active', root.classList.contains('dyslexia-mode'));
      btn.setAttribute('aria-pressed', root.classList.contains('dyslexia-mode'));
    }
    btn.addEventListener('click', function() {
      root.classList.toggle('dyslexia-mode');
      updateActive();
    });
    updateActive();
  })();

  // ===========================
  // Mobile Sidebar Toggle
  // ===========================
  (function() {
    const hamburger = document.querySelector('.hamburger');
    const closeBtn = document.querySelector('.sidebar-close');
    const backdrop = document.querySelector('.sidebar-backdrop');
    
    function openSidebar() {
      document.body.classList.add('sidebar-open');
    }
    
    function closeSidebar() {
      document.body.classList.remove('sidebar-open');
    }
    
    if (hamburger) hamburger.addEventListener('click', openSidebar);
    if (closeBtn) closeBtn.addEventListener('click', closeSidebar);
    if (backdrop) backdrop.addEventListener('click', closeSidebar);
    
    // Close sidebar on nav link click (mobile)
    document.querySelectorAll('.sidebar .case-study-nav a, .sidebar .back-link').forEach(link => {
      link.addEventListener('click', closeSidebar);
    });
  })();

  // ===========================
  // Table of Contents (sidebar, case study pages)
  // ===========================
  (function() {
    const tocList = document.querySelector('.case-study-nav .toc-list');
    if (!tocList) return;

    const content = document.querySelector('.case-study-content');
    if (!content) return;
    const headings = content.querySelectorAll('.summary-card h2, .case-study-section h2, .up-next h2');
    if (headings.length === 0) return;

    const seen = {};
    function slugify(text) {
      const raw = text.replace(/<[^>]+>/g, '').trim().toLowerCase()
        .replace(/[^\w\s-]/g, '').replace(/\s+/g, '-').replace(/-+/g, '-');
      const id = seen[raw] ? raw + '-' + (++seen[raw]) : (seen[raw] = 1, raw);
      return id;
    }

    headings.forEach(function(h) {
      const id = h.id || slugify(h.textContent);
      if (!h.id) h.id = id;
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.className = 'toc-link';
      a.textContent = h.textContent.replace(/\s*\[.*?\]\s*/g, '').trim();
      a.addEventListener('click', function(e) {
        e.preventDefault();
        document.getElementById(id).scrollIntoView({ behavior: 'smooth', block: 'start' });
        history.pushState(null, null, '#' + id);
      });
      li.appendChild(a);
      tocList.appendChild(li);
    });

    const links = tocList.querySelectorAll('.toc-link');
    const io = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (!entry.isIntersecting) return;
        const id = entry.target.id;
        links.forEach(function(a) {
          a.classList.toggle('active', a.getAttribute('href') === '#' + id);
        });
      });
    }, { rootMargin: '-100px 0px -80% 0px', threshold: 0 });
    headings.forEach(function(h) { io.observe(h); });
  })();
  </script>


</body>
</html>
